#!/usr/bin/env node

const program = require('commander');
const updateNotifier = require('update-notifier');

const index = require('../index');
const pkg = require('../package.json');

const notifier = updateNotifier({ pkg });

notifier.notify();

program
  .version('1.0.0');

program
  .command('init')
  .option('-e, --env <envname>', '.ENV name which you want to make default')
  .action((envname) => {
    index.envSwitcher.initialize(envname);
  });

program
  .command('use <envname>')
  .action((envname) => {
    index.envSwitcher.switcher(envname);
  });

program
  .command('list')
  .action(() => {
    index.envSwitcher.listEnvFiles();
  });

program
  .command('status')
  .action(() => {
    index.envSwitcher.showStatus();
  });

program.on('--help', () => {
  console.log('  Examples:');
  console.log('');
  console.log('    $ custom-help --help');
  console.log('    $ custom-help -h');
  console.log('');
});

program.parse(process.argv);